{{- /* chezmoi config template â€” prompts on first init */ -}}

{{- $name := promptStringOnce . "name" "Your full name" -}}
{{- $email := promptStringOnce . "email" "Your email" -}}
{{- $github := promptStringOnce . "github_username" "Your GitHub username" -}}
{{- $personal := promptBoolOnce . "personal" "Is this a personal machine (y/n)" -}}
{{- $ageRecipient := promptStringOnce . "age_recipient" "Your age public key (from age-keygen)" -}}

[data]
    name = {{ $name | quote }}
    email = {{ $email | quote }}
    github_username = {{ $github | quote }}
    personal = {{ $personal }}
    os = {{ .chezmoi.os | quote }}
    arch = {{ .chezmoi.arch | quote }}
    age_recipient = {{ $ageRecipient | quote }}

[git]
    autoCommit = true
    autoPush = false

[age]
    identity = "~/.config/chezmoi/key.txt"
    recipient = {{ $ageRecipient | quote }}
